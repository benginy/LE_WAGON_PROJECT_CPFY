<div class="container dashboard-page mt-5">
  <div class="row">
    <!-- Bookings Made Section -->
    <div class="col-md-4">
      <div class="dashboard-page-card-bookings">
        <div class="dashboard-page-card-bookings-header">
          <h4>Bookings Made</h4>
        </div>
        <div class="dashboard-page-card-bookings-body">
          <% if @bookings_made.any? %>
            <ul class="list-group">
              <% @bookings_made.each do |booking| %>
                <li class="list-group-item dashboard-booking-card">
                  <div class="d-flex">
                    <div class="dashboard-booking-card-img-container">
                      <%= cl_image_tag booking.life_moment.photo.key, class: 'dashboard-booking-card-img', alt: booking.life_moment.title %>
                    </div>
                    <div class="w-75 p-2">
                      <h5 class="dashboard-booking-card-title">
                        <%= link_to booking.life_moment.title, life_moment_path(booking.life_moment) %>
                      </h5>
                      <% if booking.start_date.present? && booking.end_date.present? %>
                        <p>Booked from <%= booking.start_date.strftime('%B %d, %Y') %> to <%= booking.end_date.strftime('%B %d, %Y') %></p>
                      <% else %>
                        <p>Date information is not available.</p>
                      <% end %>
                      <span class="badge bg-secondary rounded-pill"><%= booking.status %></span>
                    </div>
                  </div>
                </li>
              <% end %>
            </ul>
          <% else %>
            <p>No bookings made yet.</p>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Bookings Sold Section -->
    <div class="col-md-4">
      <div class="dashboard-page-card-bookings">
        <div class="dashboard-page-card-bookings-header">
          <h4>Bookings Sold</h4>
        </div>
        <div class="dashboard-page-card-bookings-body">
          <% if @bookings_sold.any? %>
            <ul class="list-group">
              <% @bookings_sold.each do |booking| %>
                <li class="list-group-item dashboard-booking-card">
                  <div class="d-flex">
                    <div class="dashboard-booking-card-img-container">
                      <%= cl_image_tag booking.life_moment.photo.key, class: 'dashboard-booking-card-img', alt: booking.life_moment.title %>
                    </div>
                    <div class="w-75 p-2">
                      <h5 class="dashboard-booking-card-title">
                        <%= link_to booking.life_moment.title, life_moment_path(booking.life_moment) %>
                      </h5>
                      <% if booking.start_date.present? && booking.end_date.present? %>
                        <p>Booked from <%= booking.start_date.strftime('%B %d, %Y') %> to <%= booking.end_date.strftime('%B %d, %Y') %></p>
                      <% else %>
                        <p>Date information is not available.</p>
                      <% end %>
                      <span class="badge bg-secondary rounded-pill"><%= booking.status %></span>
                    </div>
                  </div>
                </li>
              <% end %>
            </ul>
          <% else %>
            <p>No bookings sold yet.</p>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Published Life Moments Section -->
    <div class="col-md-4">
      <div class="dashboard-page-card-life-moments">
        <div class="dashboard-page-card-life-moments-header">
          <h4>Published Life Moments</h4>
        </div>
        <div class="dashboard-page-card-life-moments-body">
          <% if @published_life_moments.any? %>
            <ul class="list-group">
              <% @published_life_moments.each do |life_moment| %>
                <li class="list-group-item dashboard-life-moment-card">
                  <div class="d-flex">
                    <div class="dashboard-life-moment-card-img-container">
                      <%= cl_image_tag life_moment.photo.key, class: 'dashboard-life-moment-card-img', alt: life_moment.title %>
                    </div>
                    <div class="w-75 p-2">
                      <h5 class="dashboard-life-moment-card-title">
                        <%= link_to life_moment.title, life_moment_path(life_moment) %>
                      </h5>
                      <p><%= life_moment.description.truncate(100) %></p>
                    </div>
                  </div>
                </li>
              <% end %>
            </ul>
          <% else %>
            <p>No life moments published yet.</p>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
